!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.myuserListController=t.myuserListView=t.chatWindowController=t.chatWindowView=t.userListController=t.userListView=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=n(9),r=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;o(this,e),this.listContainer=document.getElementById(t),this.list=document.getElementsByClassName(n)[s],this.scrollLine=this.listContainer.querySelectorAll("div.scrollLine")[s],this.scrollBar=this.listContainer.querySelectorAll("div.scrollBar")[s],this.Index=s,this.catchScrollbarFlag=0,this.scrollListStep=20,this.scrollBarStepIncrementer=0,this.scrollStart=0,this.scrollEnd=0,this.scrollStep=0;var i=(0,r.adjustHeight)(t,s);this.scrollBarInitialHeight=parseFloat(i.initialHeight)}return s(e,[{key:"computeProps",value:function(){return i.computeProps.call(this)}},{key:"attachHandlers",value:function(){this.list.addEventListener("wheel",this.controller.scrollList.bind(this.controller)),this.list.addEventListener("touchstart",this.controller.touchStart.bind(this.controller)),this.list.addEventListener("touchmove",this.controller.touchMove.bind(this.controller)),this.scrollBar.addEventListener("mousedown",this.catchScrollbar.bind(this)),this.checkIfOverflow=new Event("ifOverflow"),this.list.addEventListener("ifOverflow",this.controller.adjustScrollbarSize.bind(this.controller))}},{key:"catchScrollbar",value:function(e){return i.catchScrollbar.call(this,e)}},{key:"releaseScrollbar",value:function(){return i.releaseScrollbar.call(this)}}]),e}(),a=function(){function e(t){o(this,e),this.view=t,this.interval=0,this.delta=0,this.prevDelta=0,this.start_clientY=0,this.current_clientY=0,this.deltaY=0,this.prevDeltaY=0}return s(e,[{key:"init",value:function(){this.view.computeProps(),this.view.attachHandlers()}},{key:"scrollList",value:function(e){return(0,i.scrollList)(this,e)}},{key:"moveDown",value:function(){return i.moveDown.call(this)}},{key:"moveUp",value:function(){return i.moveUp.call(this)}},{key:"moveScrollbar",value:function(e,t){return i.moveScrollbar.call(this,e,t)}},{key:"dragScrollbar",value:function(e){return i.dragScrollbar.call(this,e)}},{key:"touchStart",value:function(e){return i.touchStart.call(this,e)}},{key:"touchMove",value:function(e){return i.touchMove.call(this,e)}},{key:"adjustScrollbarSize",value:function(){return i.adjustScrollbarSize.call(this)}}]),e}(),c=new l("chat","chatWindow",0),u=new a(c);c.controller=u,u.init();var h=new l("userListContainer","userList"),d=new a(h);h.controller=d,d.init(),t.userListView=l,t.userListController=a,t.chatWindowView=c,t.chatWindowController=u,t.myuserListView=h,t.myuserListController=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.myController=t.myView=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=n(17),r=n(18),o=n(19),l=n(20),a=n(21),c=n(22),u=n(23);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(){h(this,e),this.status="active",this.closeChats=0,this.bindingContextButton=[],this.bindingContextIcon=[],this.msgIndicators=[]}return s(e,[{key:"createDOM",value:function(){return a.createDOM.call(this)}},{key:"attachHandlers",value:function(){return i.attachHandlers.call(this,m)}},{key:"removeHandlers",value:function(){return c.removeHandlers.call(this)}},{key:"attachHandlerToChatButton",value:function(e){return u.attachHandlerToChatButton.call(this,e,m)}}]),e}(),v=function(){function e(){h(this,e)}return s(e,[{key:"init",value:function(){f.createDOM(),f.attachHandlers()}},{key:"chooseButton",value:function(){return r.chooseButton.call(this,f,m)}},{key:"makeButtonWhite",value:function(e,t,n){return r.makeButtonWhite.call(this,e,f,t,n)}},{key:"makeButtonBlue",value:function(e,t,n){return r.makeButtonBlue.call(this,e,f,t,n)}},{key:"chooseChatToClose",value:function(){return o.chooseChatToClose.call(this,f)}},{key:"createCloseIcon",value:function(e){e.insertAdjacentHTML("beforeend",'<i class="fas fa-times crossIcon hidden"></i>')}},{key:"createMessageIndicator",value:function(e){e.insertAdjacentHTML("beforeend",'<div class="messageIndicator" style="display:none">0</div>')}},{key:"closeChat",value:function(e){return l.closeChat.call(this,e,m,f)}}]),e}(),f=new d,m=new v;m.init(),t.myView=f,t.myController=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeCurrentScrollbar=function(e,n,s){t.currentIndex=e,t.currentWindow=n,t.catchScrollbar=s};t.currentIndex=0,t.currentWindow=0,t.catchScrollbar=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userTouchController=t.userTouchView=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=n(16),r=n(24),o=n(25),l=n(26),a=n(27),c=n(28),u=n(29),h=n(30),d=n(1);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(){v(this,e)}return s(e,[{key:"initDOM",value:function(){return r.initDOM.call(this)}},{key:"attachListeners",value:function(){return u.attachListeners.call(this)}},{key:"removeListeners",value:function(){return h.removeListeners.call(this)}}]),e}(),m=function(){function e(t){v(this,e),this.view=t,self=this,this.startX=0,this.currentX=0,this.clientX=0,this.currentClientX=0}return s(e,[{key:"init",value:function(){parseFloat(document.body.clientWidth)<=999&&(p.initDOM(),p.attachListeners())}},{key:"reinit",value:function(){parseFloat(document.body.clientWidth)<=999?(p.initDOM(),this.menuTransform(this.view.menu_close),"white"===this.view.button.getElementsByTagName("circle")[0].classList[0]&&d.myController.makeButtonBlue(0,this.view.openButton),p.removeListeners(),p.attachListeners()):(p.initDOM(),this.menuTransform(this.view.menu_open),p.removeListeners())}},{key:"open",value:function(e){return i.open.call(this,e)}},{key:"close",value:function(e){return i.close.call(this,e)}},{key:"block_start",value:function(e){return o.block_start.call(this,e)}},{key:"block_move",value:function(e){return l.block_move.call(this,e)}},{key:"block_end",value:function(e){return o.block_end.call(this,e)}},{key:"window_start",value:function(e){return a.window_start.call(this,e)}},{key:"window_end",value:function(e){return c.window_end.call(this,e)}},{key:"menuTransform",value:function(e){this.view.menu.style.transform="translateX("+e+"px)"}},{key:"window_move",value:function(e){e.preventDefault()}}]),e}(),p=new f,y=new m(p);y.init(),t.userTouchView=p,t.userTouchController=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeMessageRecipient=function(e){t.messageRecipient=s=e};var s="All";t.messageRecipient=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeCurrentChatWindow=function(e){t.currentChatWindow=e};t.currentChatWindow=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adjustHeight=function(e,t){if("chat"===e&&0===t){var n=function(e){u.push(parseFloat(window.getComputedStyle(e,null).getPropertyValue("height")))},s=parseFloat(window.innerHeight),i=document.getElementById("chatInput"),r=document.getElementById("nameMain"),o=document.getElementById("chatButtons"),l=document.getElementById("chat"),a=l.getElementsByClassName("scrollLine")[t],c=a.getElementsByClassName("scrollBar")[0],u=[];n(i),n(o),u.push(parseFloat(r.style.height));var h=u.reduce(function(e,t){return e+t});l.style.height=s-(h+100)+"px",a.style.height=l.style.height,c.style.height=parseFloat(l.style.height)-2+"px"}else if("chat"===e&&0!==t){var l=document.getElementById("chat"),a=l.getElementsByClassName("scrollLine")[t],c=a.getElementsByClassName("scrollBar")[0];a.style.height=l.style.height,c.style.height=parseFloat(l.style.height)-2+"px"}else if("userListContainer"===e){var l=document.getElementById("chat"),d=document.getElementById("userListContainer");document.getElementById("userList");d.style.height=parseFloat(l.style.height)+4+"px";var v=l.getBoundingClientRect().top;d.style.top=v+"px";var a=d.getElementsByClassName("scrollLine")[t];a.style.height=parseFloat(l.style.height)+4+"px";var c=d.getElementsByClassName("scrollBar")[0];c.style.height=parseFloat(l.style.height)+"px"}return{initialHeight:c.style.height}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleActiveChat=function(e,t){var n=document.getElementsByClassName("chatWindow"),r=document.getElementById("chatButtons").getElementsByTagName("li"),o=document.getElementsByClassName("scrollLine");(0,s.changeMessageRecipient)(e);for(var l=0;l<n.length;l++)l===t?(n[l].style.display="block",r[l].style.display="flex",o[l].style.display="block",(0,i.changeCurrentChatWindow)(l)):(n[l].style.display="none",o[l].style.display="none")};var s=n(4),i=n(5)},function(e,t,n){n(0),n(36),n(1),e.exports=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adjustScrollbarSize=t.moveDown=t.moveUp=t.moveScrollbar=t.touchMove=t.touchStart=t.dragScrollbar=t.scrollList=t.releaseScrollbar=t.catchScrollbar=t.computeProps=void 0;var s=n(10),i=n(11),r=n(12),o=n(13),l=n(14),a=n(15),c=n(31),u=n(32),h=n(33),d=n(34),v=n(35);t.computeProps=s.computeProps,t.catchScrollbar=i.catchScrollbar,t.releaseScrollbar=r.releaseScrollbar,t.scrollList=o.scrollList,t.dragScrollbar=l.dragScrollbar,t.touchStart=a.touchStart,t.touchMove=c.touchMove,t.moveScrollbar=u.moveScrollbar,t.moveUp=h.moveUp,t.moveDown=d.moveDown,t.adjustScrollbarSize=v.adjustScrollbarSize},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeProps=function(){this.list.style.transition="transform 0.1s ease",this.listScrollHeight=parseFloat(this.list.scrollHeight),this.listContainerHeight=parseFloat(this.listContainer.style.height)||parseFloat(window.getComputedStyle(this.listContainer,null).getPropertyValue("height")),this.scrollBarStepsNumber=(this.listScrollHeight-this.listContainerHeight)/this.scrollListStep,this.borderTolerance=parseFloat(window.getComputedStyle(this.scrollLine,null).getPropertyValue("border-bottom-width"))+parseFloat(window.getComputedStyle(this.scrollBar,null).getPropertyValue("border-bottom-width")),this.scrollBarHeight=parseFloat(this.scrollBar.style.height)||this.scrollBarInitialHeight,this.scrollLineHeight=parseFloat(window.getComputedStyle(this.scrollLine,null).getPropertyValue("height"))-this.borderTolerance,this.scrollBarStepIncrementer=(this.scrollLineHeight-this.scrollBarHeight)/this.scrollBarStepsNumber,this.scrollEnd=this.scrollLineHeight-this.scrollBarHeight,this.scrollStep=(this.listScrollHeight-this.listContainerHeight)/(this.scrollLineHeight-this.scrollBarHeight),this.listOverflowHeight=this.listScrollHeight-this.listContainerHeight}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.catchScrollbar=function(e){this.catchScrollbarFlag=1,this.startPoint=e.clientY,this.scrollBar.onmousemove=this.controller.dragScrollbar.bind(this.controller),this.scrollBar.onmouseup=this.releaseScrollbar.bind(this),(0,s.changeCurrentScrollbar)(this.Index,this.list,1)};var s=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.releaseScrollbar=function(){this.controller.prevDelta=this.controller.delta,this.catchScrollbarFlag=0,(0,s.changeCurrentScrollbar)(0,0,0)};var s=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollList=function(e,t){t.deltaY>0&&e.moveDown();t.deltaY<0&&e.moveUp()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragScrollbar=function(e){if(1!=this.view.catchScrollbarFlag)return;if(this.startPoint=this.view.startPoint,this.scrollStep=this.view.scrollStep,this.point=e.clientY,this.delta=this.point-this.startPoint+this.prevDelta,this.delta<this.view.scrollStart)return void this.moveScrollbar(this.view.scrollStart,this.view.scrollStart);if(this.delta>this.view.scrollEnd)return void this.moveScrollbar(this.view.scrollEnd,this.view.listOverflowHeight);this.moveScrollbar(this.delta,this.delta*this.view.scrollStep),this.interval=this.delta}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.touchStart=function(e){0===s.userTouchView.menuClosed&&s.userTouchController.close(e);this.start_clientY=e.touches[0].clientY};var s=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.open=function(e){if(e.preventDefault(),"touchend"===e.type)return void e.stopPropagation();1===this.view.menuClosed?(console.log(e.type),s.myController.makeButtonWhite(0,this.view.openButton,"#ff0066"),e.stopPropagation(),this.view.menu.style.transition="transform 0.5s ease",this.menuTransform(this.view.menu_open),this.view.menuClosed=0):0===this.view.menuClosed&&(console.log(e.type),e.stopPropagation(),this.close(e))},t.close=function(e){for(var t=[this.view.menu,this.view.menuList],n=0;n<this.view.menuListItem.length;n++)t.push(this.view.menuListItem[n]);this.view.menu.style.transform=="translateX("+this.view.menu_open+"px)"&&-1==t.indexOf(e.target)&&(s.myController.makeButtonBlue(0,this.view.openButton),this.view.menu.style.transition="transform 0.5s ease",this.menuTransform(this.view.menu_close),this.view.menuClosed=1)};var s=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachHandlers=function(e){0===this.closeChats&&(this.closeChatsButton.addEventListener("click",e.chooseChatToClose.bind(e)),this.closeChats=1);for(var t=0;t<this.button.length;t++)if(1!==this.reAttachHandlers&&t===this.button.length-1)this.attachHandlerToChatButton(t),"active"===this.status?e.makeButtonWhite(t):e.makeButtonBlue(t);else if(1!==this.reAttachHandlers&&t!==this.button.length-1){if("active"!==this.status)continue;e.makeButtonBlue(t)}else 1===this.reAttachHandlers&&this.attachHandlerToChatButton(t);this.reAttachHandlers=0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chooseButton=function(e,t){for(var n=0;n<e.button.length;n++)n===this?t.makeButtonWhite(n):t.makeButtonBlue(n)},t.makeButtonWhite=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.button,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgba(0, 199, 199, 1)",i=n[e].getElementsByTagName("circle")[0],r=n[e].getElementsByTagName("text")[0];i.classList.remove("colorful"),i.classList.add("white"),r.setAttribute("fill",s)},t.makeButtonBlue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.button,s=n[e].getElementsByTagName("circle")[0],i=n[e].getElementsByTagName("text")[0];s.classList.remove("white"),s.classList.add("colorful"),i.setAttribute("fill","white")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chooseChatToClose=function(e){if(!e.closeChatIcons[1])return;if(e.closeChatIcons[1]){for(var t=!1,n=0;n<e.closeChatIcons[1].classList.length;n++)"hidden"===e.closeChatIcons[1].classList[n]&&(t=!0);!function(n){if(!0===t){n.makeButtonWhite(0,e.closeButton,"red");for(var s=1;s<e.closeChatIcons.length;s++)e.closeChatIcons[s].classList.remove("hidden"),e.msgIndicators.push(e.messageIndicator[s].style.display),e.messageIndicator[s].style.display="none"}else if(!1===t){n.makeButtonBlue(0,e.closeButton),e.closeButtonBorder.style.border="2px solid red";for(var s=1;s<e.closeChatIcons.length;s++)e.closeChatIcons[s].classList.add("hidden"),0!=e.messageIndicator[s].innerHTML?e.messageIndicator[s].style.display=e.msgIndicators[s-1]:e.messageIndicator[s].style.display="none";e.msgIndicators=[]}}(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeChat=function(e,t,n){e.stopPropagation();n.chatButtonContainer[this].style.display="none",(0,s.changeCurrentChatWindow)(0),(0,i.changeMessageRecipient)("All");for(var r=[],o=0;o<n.chatWindow.length;o++)0===o?(n.chatWindow[o].style.display="block",n.scrollbar[o].style.display="block",t.makeButtonWhite(o)):(r.push(n.chatButtonContainer[o].style.display),n.chatWindow[o].style.display="none",n.scrollbar[o].style.display="none",t.makeButtonBlue(o));r.some(function(e){return"flex"===e})||t.makeButtonBlue(0,n.closeButton)};var s=n(5),i=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDOM=function(){this.chatButtonsList=document.getElementById("chatButtons"),this.chatButtonContainer=this.chatButtonsList.getElementsByTagName("li"),this.button=document.getElementsByClassName("button"),this.closeChatsButton=document.getElementById("closeButton"),this.closeButton=document.getElementsByClassName("closeButton"),this.closeButtonBorder=document.getElementById("doubleBorder"),this.closeChatIcons=document.getElementsByClassName("crossIcon"),this.chatWindow=document.getElementsByClassName("chatWindow"),this.scrollbar=document.getElementsByClassName("scrollLine"),this.messageIndicator=document.getElementsByClassName("messageIndicator")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeHandlers=function(){for(var e=0;e<this.button.length;e++)this.button[e].removeEventListener("click",this.bindingContextButton[e]),e>0&&this.closeChatIcons[e].removeEventListener("click",this.bindingContextIcon[e-1]);this.bindingContextButton=[],this.bindingContextIcon=[],this.reAttachHandlers=1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachHandlerToChatButton=function(e,t){this.contextForButton=t.chooseButton.bind(e),this.bindingContextButton.push(this.contextForButton),this.button[e].addEventListener("click",this.contextForButton),0!==e&&(this.contextForIcon=t.closeChat.bind(e),this.bindingContextIcon.push(this.contextForIcon),this.closeChatIcons[e].addEventListener("click",this.contextForIcon))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDOM=function(){this.menu=document.getElementById("userListContainer"),this.menuList=document.getElementById("userList"),this.button=document.getElementById("addUsers"),this.openButton=document.getElementsByClassName("addUsers"),this.menuListItem=this.menuList.getElementsByTagName("li"),this.menu_close=300,this.menu_open=1,this.flag=0,this.menuClosed=1,this.listeners=[{name:this.button,events:[{click:self.open.bind(self)},{touchstart:self.open.bind(self)},{touchend:self.open.bind(self)}]},{name:window,events:[{click:self.close.bind(self)},{touchstart:self.window_start.bind(self)},{touchmove:self.window_move.bind(self)},{touchend:self.window_end.bind(self)}]},{name:this.menuList,events:[{touchstart:self.block_start.bind(self)},{touchmove:self.block_move.bind(self)},{touchend:self.block_end.bind(self)}]}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.block_start=function(e){this.view.menu.style.transition="transform 0.1s ease",this.startX=e.touches[0].clientX},t.block_end=function(e){if(this.view.menu.style.transition="transform 0.5s ease",this.currentX<1)return;this.deltaX<=70?this.menuTransform(this.view.menu_open):(this.menuTransform(this.view.menu_close),s.myController.makeButtonBlue(0,this.view.openButton),this.view.menuClosed=1)};var s=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.block_move=function(e){e.preventDefault(),this.currentX=e.changedTouches[0].clientX,this.deltaX=-(this.startX-this.currentX),this.deltaX<=300&&this.deltaX>=0&&(this.view.menu.style.transform="translateX("+this.deltaX+"px)")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window_start=function(e){if(e.target===this.view.menuList||e.target===this.view.button)return void e.stopPropagation();for(var t=[this.view.menu,this.view.menuList],n=0;n<this.view.menuListItem.length;n++)t.push(this.view.menuListItem[n]);-1==t.indexOf(e.target)?(this.clientX=e.touches[0].clientX,parseFloat(this.clientX)>=document.body.clientWidth-60?this.view.flag=1:parseFloat(this.clientX)<document.body.clientWidth-60&&this.view.menu.style.transform=="translateX("+this.view.menu_open+"px)"?this.view.flag=2:this.view.flag=0):this.clientX=void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window_end=function(e){if(e.target===this.view.menuList||e.target===this.view.button)return void e.stopPropagation();void 0!==this.clientX&&0!==this.view.flag&&(this.view.menu.style.transition="transform 0.5s ease",this.currentClientX=e.changedTouches[0].clientX,this.currentClientX==this.clientX&&this.view.menu.style.transform=="translateX("+this.view.menu_open+"px)"&&(this.menuTransform(this.view.menu_close),s.myController.makeButtonBlue(0,this.view.openButton),this.view.menuClosed=1),1==this.view.flag&&parseFloat(this.clientX)-parseFloat(this.currentClientX)>=20?(this.menuTransform(this.view.menu_open),s.myController.makeButtonWhite(0,this.view.openButton,"#ff0066"),this.view.menuClosed=0):2==this.view.flag&&parseFloat(this.clientX)<parseFloat(this.currentClientX)&&(this.menuTransform(this.view.menu_close),this.view.menuClosed=1))};var s=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachListeners=function(){this.context=[];for(var e=0;e<this.listeners.length;e++)for(var t=0;t<this.listeners[e].events.length;t++)if(Object.values)this.listeners[e].name.addEventListener(Object.keys(this.listeners[e].events[t])[0],Object.values(this.listeners[e].events[t])[0],{passive:!1}),this.context.push({name:this.listeners[e].name,func:Object.values(this.listeners[e].events[t])[0]});else{var n=Object.keys(this.listeners[e].events[t])[0],s=this.listeners[e].events[t][n];this.listeners[e].name.addEventListener(n,s,{passive:!1}),this.context.push({name:this.listeners[e].name,func:s})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeListeners=function(){if(!this.context)return;for(var e=0;e<this.listeners.length;e++){this.boundContext=[],this.context.forEach(function(t){t.name===self.view.listeners[e].name&&self.view.boundContext.push(t)});for(var t=0;t<this.listeners[e].events.length;t++)this.listeners[e].name.removeEventListener(Object.keys(this.listeners[e].events[t])[0],this.boundContext[t].func,{passive:!1})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.touchMove=function(e){e.preventDefault(),e.stopPropagation(),this.current_clientY=e.changedTouches[0].clientY,this.deltaY=this.current_clientY-this.start_clientY+this.prevDeltaY,this.deltaY>0&&this.moveUp();this.deltaY<0&&this.moveDown()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moveScrollbar=function(e,t){this.view.scrollBar.style.transform="translateY("+e+"px)",void 0!==t&&(this.view.list.scrollTop=t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moveUp=function(){if(!isFinite(this.view.scrollBarStepIncrementer))return;this.interval>=Math.floor(this.view.scrollBarStepIncrementer)?(this.interval-=this.view.scrollBarStepIncrementer,this.view.list.scrollTop-=this.view.scrollListStep,this.moveScrollbar(this.interval),this.prevDelta=this.interval):this.moveScrollbar(this.view.scrollStart,this.view.scrollStart)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moveDown=function(){if(!isFinite(this.view.scrollBarStepIncrementer))return;this.interval<=this.view.scrollEnd-Math.floor(this.view.scrollBarStepIncrementer)?(this.interval+=this.view.scrollBarStepIncrementer,this.view.list.scrollTop+=this.view.scrollListStep,this.moveScrollbar(this.interval),this.prevDelta=this.interval):this.moveScrollbar(this.view.scrollEnd,this.view.listOverflowHeight)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adjustScrollbarSize=function(){this.listOverflowPercent=100*parseFloat(this.view.list.scrollHeight)/this.view.listContainerHeight/100,this.view.scrollBar.style.height=this.view.scrollBarInitialHeight/this.listOverflowPercent+"px",this.view.computeProps()}},function(e,t,n){"use strict";var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=n(37),r=n(4),o=n(1);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){l(this,e)}return s(e,[{key:"createDOM",value:function(){return i.createDOM.call(this)}},{key:"attachHandlers",value:function(){return i.attachHandlers.call(this,h)}},{key:"printMessage",value:function(e,t){return i.printMessage.call(this,e,t)}},{key:"updateUserList",value:function(e){return i.updateUserList.call(this,e)}},{key:"usersAttachHandlers",value:function(){this.user=this.userList.getElementsByTagName("li");for(var e=0;e<this.user.length;e++)this.user[e].onclick=this.openPrivateChat,this.user[e].ontouchstart=this.openPrivateChat,this.user[e].ontouchend=this.openPrivateChat}},{key:"setUserName",value:function(e){return i.setUserName.call(this,e)}},{key:"openPrivateChat",value:function(e){return i.openPrivateChat.call(this,u,e)}},{key:"createUserTab",value:function(e,t){return i.createUserTab.call(this,u,e,t)}},{key:"createChatWindow",value:function(){return i.createChatWindow.call(this)}},{key:"createScrollbar",value:function(e){return i.createScrollbar.call(this,e)}},{key:"startPrivateChat",value:function(e){return i.startPrivateChat.call(this,e,u)}},{key:"displayChat",value:function(){return i.displayChat.call(this,u)}},{key:"reorderChatButtons",value:function(){return i.reorderChatButtons.call(this,u)}},{key:"changeSubmitButtonColor",value:function(){0===u.firstInput&&(o.myController.makeButtonBlue(0,u.submitButton),u.firstInput=1)}},{key:"dragScrollbar",value:function(e){return i.dragScrollbar.call(this,e,u)}},{key:"releaseScrollbar",value:function(){return i.releaseScrollbar.call(this,u)}}]),e}(),c=function(){function e(){l(this,e)}return s(e,[{key:"connect",value:function(){this.url="ws://192.168.1.143:3000",this.connection=new WebSocket(this.url),u.createDOM(),u.attachHandlers()}},{key:"sendMessage",value:function(){o.myController.makeButtonWhite(0,u.submitButton,"#ff0066"),u.firstInput=0,u.chatInput.value.length>0&&" "!==u.chatInput.value&&(this.connection.send(JSON.stringify({room:"none",message:u.chatInput.value,recipient:r.messageRecipient})),u.chatInput.value="")}},{key:"getMessage",value:function(e){this.result=JSON.parse(e.data),void 0!==this.result.message&&"null"!==this.result.sender?u.startPrivateChat(this.result):void 0!==this.result.message&&u.printMessage(this.result.message,this.result.recipient),void 0!==this.result.users&&(u.updateUserList(this.result.users),u.usersAttachHandlers()),void 0!==this.result.name&&u.setUserName(this.result.name)}},{key:"connectionError",value:function(){console.log("Error happened, closing connection"),this.closeConnection()}},{key:"closeConnection",value:function(){this.connection.close()}},{key:"reinit",value:function(){return i.reinit.call(this,u)}}]),e}(),u=new a,h=new c(u);h.connect()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.releaseScrollbar=t.dragScrollbar=t.reinit=t.createScrollbar=t.reorderChatButtons=t.createChatWindow=t.createUserTab=t.startPrivateChat=t.displayChat=t.openPrivateChat=t.setUserName=t.updateUserList=t.printMessage=t.attachHandlers=t.createDOM=void 0;var s=n(38),i=n(39),r=n(40),o=n(41),l=n(42),a=n(43),c=n(44),u=n(45),h=n(46),d=n(48),v=n(49),f=n(50),m=n(51),p=n(52),y=n(53);t.createDOM=s.createDOM,t.attachHandlers=i.attachHandlers,t.printMessage=r.printMessage,t.updateUserList=o.updateUserList,t.setUserName=l.setUserName,t.openPrivateChat=a.openPrivateChat,t.displayChat=c.displayChat,t.startPrivateChat=u.startPrivateChat,t.createUserTab=h.createUserTab,t.createChatWindow=d.createChatWindow,t.reorderChatButtons=v.reorderChatButtons,t.createScrollbar=f.createScrollbar,t.reinit=m.reinit,t.dragScrollbar=p.dragScrollbar,t.releaseScrollbar=y.releaseScrollbar},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDOM=function(){this.chatInput=document.getElementById("inputField"),this.sendButton=document.getElementById("submit"),this.submitButton=document.getElementsByClassName("submit"),this.chatContainer=document.getElementById("chat"),this.chatWindow=document.getElementsByClassName("chatWindow"),this.userList=document.getElementById("userList"),this.userNameContainer=document.getElementById("name"),this.userName="",this.tabsArray=["All"],this.tabButtons=document.getElementById("chatButtons"),this.chatButtonContainer=this.tabButtons.getElementsByTagName("li"),this.tabAllChats=this.tabButtons.getElementsByTagName("li")[0],this.scrollLine=this.chatContainer.getElementsByClassName("scrollLine"),this.messageIndicator=document.getElementsByClassName("messageIndicator"),this.firstInput=void 0,this.scrollControllerInstances=[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachHandlers=function(e){this.sendButton.onclick=e.sendMessage.bind(e),this.tabAllChats.onclick=this.displayChat,this.chatInput.oninput=this.changeSubmitButtonColor.bind(e),e.connection.onerror=e.connectionError.bind(e),e.connection.onmessage=e.getMessage.bind(e),e.connection.onclose=e.closeConnection.bind(e),window.addEventListener("beforeunload",e.closeConnection.bind(e)),window.addEventListener("resize",e.reinit.bind(e)),window.addEventListener("mousemove",this.dragScrollbar),window.addEventListener("mouseup",this.releaseScrollbar)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printMessage=function(e,t){if(this.chatWindowIndex=this.tabsArray.indexOf(t),this.text=document.createElement("p"),this.text.innerHTML=e,this.chatWindow[this.chatWindowIndex].appendChild(this.text),"none"===this.chatWindow[this.chatWindowIndex].style.display){var n=parseInt(this.messageIndicator[this.chatWindowIndex].innerHTML);n++,this.messageIndicator[this.chatWindowIndex].innerHTML=n,this.messageIndicator[this.chatWindowIndex].style.display="block"}if(0===this.chatWindowIndex)var i=s.chatWindowView;else if(0!==this.chatWindowIndex)var i=this.scrollControllerInstances[this.chatWindowIndex-1].view;this.chatWindow[this.chatWindowIndex].dispatchEvent(i.checkIfOverflow)};var s=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateUserList=function(e){this.userList.innerHTML="",this.users=e.split(",");for(var t=0;t<this.users.length;t++)this.user=document.createElement("li"),this.user.innerHTML=this.users[t],this.userList.appendChild(this.user);this.userList.dispatchEvent(s.myuserListView.checkIfOverflow)};var s=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUserName=function(e){this.userName=e,this.userNameContainer.innerHTML="You logged in as <span>"+e+"</span>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openPrivateChat=function(e,t){if("touchstart"===t.type)return t.preventDefault(),void(e.start_touchPoint=parseInt(t.touches[0].clientY));if("touchend"===t.type&&(t.preventDefault(),e.current_touchPoint=parseInt(t.changedTouches[0].clientY),e.start_touchPoint-e.current_touchPoint>2||e.current_touchPoint-e.start_touchPoint>2))return;if(e.chosenUser=this.innerHTML,e.chosenUserIndex=e.tabsArray.indexOf(e.chosenUser),e.chosenUser!==e.userName&&e.chosenUserIndex<0)e.createUserTab(e.chosenUser,status="active"),e.createChatWindow(),(0,s.handleActiveChat)(e.chosenUser,e.chosenUserIndex);else{if(!(e.chosenUser!==e.userName&&e.chosenUserIndex>=0&&"none"===e.chatWindow[e.chosenUserIndex].style.display))return;i.myView.closeChatIcons[e.chosenUserIndex].classList.add("hidden"),i.myView.messageIndicator[e.chosenUserIndex].style.display="none",i.myView.messageIndicator[e.chosenUserIndex].innerHTML=0,i.myView.removeHandlers(),e.reorderChatButtons(),i.myView.attachHandlers(),(0,s.handleActiveChat)(e.chosenUser,e.chatButtonContainer.length-1),i.myController.chooseButton.call(e.chatButtonContainer.length-1)}};var s=n(7),i=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayChat=function(e){var t=this.getElementsByTagName("svg")[0].getElementsByTagName("text")[0];if(e.chatIndex=e.tabsArray.indexOf(t.innerHTML),e.messageIndicator[e.chatIndex].style.display="none",e.messageIndicator[e.chatIndex].innerHTML=0,(0,s.handleActiveChat)(t.innerHTML,e.chatIndex),0===e.chatIndex)var n=i.chatWindowView;else if(0!==e.chatIndex)var n=e.scrollControllerInstances[e.chatIndex-1].view;e.chatWindow[e.chatIndex].dispatchEvent(n.checkIfOverflow),"translateY(0px)"===n.scrollBar.style.transform&&(n.list.scrollTop=0)};var s=n(7),i=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startPrivateChat=function(e,t){var n=this.tabsArray.indexOf(e.sender);n<0&&e.sender!==this.userName&&-1!==this.users.indexOf(e.sender)?(t.createUserTab(e.sender,status="unactive"),t.createChatWindow(),t.printMessage(e.message,e.sender)):n>=0&&"none"!==this.chatButtonContainer[n].style.display?t.printMessage(e.message,e.sender):n>=0&&"none"===this.chatButtonContainer[n].style.display?(this.chatButtonContainer[n].style.display="flex",this.chatButtonContainer[n].querySelector("i").classList.add("hidden"),t.printMessage(e.message,e.sender)):e.sender===this.userName&&t.printMessage(e.message,e.recipient)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUserTab=function(e,t,n){e.tab=document.createElement("li"),(0,s.createChatButton)(e,t,i.myController),i.myController.createCloseIcon(e.tab),i.myController.createMessageIndicator(e.tab),e.tabsArray.push(t),e.chosenUserIndex=e.tabsArray.indexOf(t),e.tabButtons.appendChild(e.tab),e.tab.onclick=e.displayChat,i.myView.status=n,i.myController.init()};var s=n(47),i=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChatButton=function(e,t,n){function s(e,t){if(Object.values)for(var n=0;n<Object.keys(t).length;n++)e.setAttribute(Object.keys(t)[n],Object.values(t)[n]);else{var s=[];Object.keys(t).map(function(e){s.push(t[e])});for(var n=0;n<Object.keys(t).length;n++)e.setAttribute(Object.keys(t)[n],s[n])}}e.svgWidth=parseFloat(function(e){var t=document.createElement("div");return t.classList.add("emptyDiv"),t.style.cssText="position:absolute;padding:5px; display:inline-block; visibility:hidden; letter-spacing:1.2px",t.innerHTML=e,document.body.appendChild(t),window.getComputedStyle(t,null).getPropertyValue("width")}(t))+20,e.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.svg.innerHTML="<circle></circle><text></text>",e.svg.classList.add("button"),e.tab.appendChild(e.svg),e.circleAttrs={cx:"50%",cy:"50%",r:"1%",fill:"transparent"},e.circle=e.svg.getElementsByTagName("circle")[0],s(e.circle,e.circleAttrs),e.textAttrs={"text-anchor":"middle","alignment-baseline":"middle","dominant-baseline":"middle",x:"50%",y:"50%",fill:"white"},e.text=e.svg.getElementsByTagName("text")[0],s(e.text,e.textAttrs),e.text.innerHTML=t,e.svg.style.width=e.svgWidth+"px",e.svg.style.height="32px";var i=document.getElementsByClassName("emptyDiv")[0];document.body.removeChild(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChatWindow=function(){this.newChatWindow=document.createElement("div"),this.newChatWindow.classList.add("chatWindow"),this.newChatWindow.style.display="none",this.chatContainer.appendChild(this.newChatWindow),this.createScrollbar(this.chatWindow.length-1)};n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reorderChatButtons=function(e){e.tabButtons.appendChild(e.chatButtonContainer[e.chosenUserIndex]),e.chatContainer.appendChild(e.chatWindow[e.chosenUserIndex]),e.chatContainer.appendChild(e.scrollLine[e.chosenUserIndex]),e.tabsArray.push(e.tabsArray[e.chosenUserIndex]),e.tabsArray.splice(e.chosenUserIndex,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScrollbar=function(e){this.newScrollLine=document.createElement("div"),this.newScrollLine.classList.add("scrollLine"),this.newScrollLine.style.display="none",this.newScrollBar=document.createElement("div"),this.newScrollBar.classList.add("scrollBar"),this.newScrollLine.appendChild(this.newScrollBar),this.chatContainer.appendChild(this.newScrollLine);var t=new s.userListView("chat","chatWindow",e),n=new s.userListController(t);t.controller=n,n.init(),this.scrollControllerInstances.push(n)};var s=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reinit=function(e){s.userTouchController.reinit();for(var t=0;t<=e.scrollControllerInstances.length;t++)n("chat",t);function n(n,s){if("chat"===n&&0===s)var o=r.chatWindowController,l=e.chatWindow[s];else if("chat"===n&&0!==s)var o=e.scrollControllerInstances[t-1],l=e.chatWindow[s];else if("userListContainer"===n)var o=r.myuserListController,l=e.userList;var a=(0,i.adjustHeight)(n,s);o.view.scrollBarInitialHeight=parseFloat(a.initialHeight),o.view.computeProps(),o.interval=0,o.view.scrollBar.style.transform="translateY(0px)",o.view.list.scrollTop=0,l.dispatchEvent(o.view.checkIfOverflow)}n("userListContainer",0)};var s=n(3),i=n(6),r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragScrollbar=function(e,t){if(1!==s.catchScrollbar)return;"userList"===s.currentWindow.classList[0]?t.scrollController=i.myuserListController:"chatWindow"===s.currentWindow.classList[0]&&0===s.currentIndex?t.scrollController=i.chatWindowController:"chatWindow"===s.currentWindow.classList[0]&&0!==s.currentIndex&&(t.scrollController=t.scrollControllerInstances[s.currentIndex-1]),t.scrollController.dragScrollbar(e)};var s=n(2),i=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.releaseScrollbar=function(e){if(1!==s.catchScrollbar)return;e.scrollController.view.releaseScrollbar()};var s=n(2)}]);